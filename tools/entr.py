#!/usr/bin/env python3

entranceScenes = [
    "ENTRANCE_SCENCE_MAYORS_RESIDENCE",
    "ENTRANCE_SCENCE_MAJORAS_LAIR",
    "ENTRANCE_SCENCE_MAGIC_HAGS_POTION_SHOP",
    "ENTRANCE_SCENCE_RANCH_HOUSE",
    "ENTRANCE_SCENCE_HONEY_AND_DARLINGS_SHOP",
    "ENTRANCE_SCENCE_BENEATH_THE_GRAVERYARD",
    "ENTRANCE_SCENCE_SOUTHERN_SWAMP_CLEARED",
    "ENTRANCE_SCENCE_CURIOSITY_SHOP",
    "ENTRANCE_SCENCE_UNSET_08",
    "ENTRANCE_SCENCE_UNSET_09",
    "ENTRANCE_SCENCE_GROTTOS",
    "ENTRANCE_SCENCE_UNSET_0B",
    "ENTRANCE_SCENCE_UNSET_0C",
    "ENTRANCE_SCENCE_UNSET_0D",
    "ENTRANCE_SCENCE_CUTSCENE",
    "ENTRANCE_SCENCE_UNSET_0F",
    "ENTRANCE_SCENCE_IKANA_CANYON",
    "ENTRANCE_SCENCE_PIRATES_FORTRESS",
    "ENTRANCE_SCENCE_MILK_BAR",
    "ENTRANCE_SCENCE_STONE_TOWER_TEMPLE",
    "ENTRANCE_SCENCE_TREASURE_CHEST_SHOP",
    "ENTRANCE_SCENCE_STONE_TOWER_TEMPLE_REVERSED",
    "ENTRANCE_SCENCE_CLOCK_TOWER_ROOFTOP",
    "ENTRANCE_SCENCE_OPENING_DUNGEON",
    "ENTRANCE_SCENCE_WOODFALL_TEMPLE",
    "ENTRANCE_SCENCE_PATH_TO_MOUNTAIN_VILLAGE",
    "ENTRANCE_SCENCE_IKANA_CASTLE",
    "ENTRANCE_SCENCE_DEKU_SCRUB_PLAYGROUND",
    "ENTRANCE_SCENCE_ODOLWAS_LAIR",
    "ENTRANCE_SCENCE_TOWN_SHOOTING_GALLERY",
    "ENTRANCE_SCENCE_SNOWHEAD_TEMPLE",
    "ENTRANCE_SCENCE_MILK_ROAD",
    "ENTRANCE_SCENCE_PIRATES_FORTRESS_INTERIOR",
    "ENTRANCE_SCENCE_SWAMP_SHOOTING_GALLERY",
    "ENTRANCE_SCENCE_PINACCLE_ROCK",
    "ENTRANCE_SCENCE_FAIRY_FOUNTAIN",
    "ENTRANCE_SCENCE_SWAMP_SPIDER_HOUSE",
    "ENTRANCE_SCENCE_OCEANSIDE_SPIDER_HOUSE",
    "ENTRANCE_SCENCE_ASTRAL_OBSERVATORY",
    "ENTRANCE_SCENCE_MOON_DEKU_TRIAL",
    "ENTRANCE_SCENCE_DEKU_PALACE",
    "ENTRANCE_SCENCE_MOUNTAIN_SMITHY",
    "ENTRANCE_SCENCE_TERMINA_FIELD",
    "ENTRANCE_SCENCE_POST_OFFICE",
    "ENTRANCE_SCENCE_MARINE_RESEARCH_LAB",
    "ENTRANCE_SCENCE_DAMPES_HOUSE",
    "ENTRANCE_SCENCE_UNSET_2E",
    "ENTRANCE_SCENCE_GORON_SHRINE",
    "ENTRANCE_SCENCE_ZORA_HALL",
    "ENTRANCE_SCENCE_TRADING_POST",
    "ENTRANCE_SCENCE_ROMANI_RANCH",
    "ENTRANCE_SCENCE_TWINMOLDS_LAIR",
    "ENTRANCE_SCENCE_GREAT_BAY_COAST",
    "ENTRANCE_SCENCE_ZORA_CAPE",
    "ENTRANCE_SCENCE_LOTTERY_SHOP",
    "ENTRANCE_SCENCE_UNSET_37",
    "ENTRANCE_SCENCE_PIRATES_FORTRESS_EXTERIOR",
    "ENTRANCE_SCENCE_FISHERMANS_HUT",
    "ENTRANCE_SCENCE_GORON_SHOP",
    "ENTRANCE_SCENCE_DEKU_KINGS_CHAMBER",
    "ENTRANCE_SCENCE_MOON_GORON_TRIAL",
    "ENTRANCE_SCENCE_ROAD_TO_SOUTHERN_SWAMP",
    "ENTRANCE_SCENCE_DOGGY_RACETRACK",
    "ENTRANCE_SCENCE_CUCCO_SHACK",
    "ENTRANCE_SCENCE_IKANA_GRAVEYARD",
    "ENTRANCE_SCENCE_GOHTS_LAIR",
    "ENTRANCE_SCENCE_SOUTHERN_SWAMP_POISONED",
    "ENTRANCE_SCENCE_WOODFALL",
    "ENTRANCE_SCENCE_MOON_ZORA_TRIAL",
    "ENTRANCE_SCENCE_GORON_VILLAGE_SPRING",
    "ENTRANCE_SCENCE_GREAT_BAY_TEMPLE",
    "ENTRANCE_SCENCE_WATERFALL_RAPIDS",
    "ENTRANCE_SCENCE_BENEATH_THE_WELL",
    "ENTRANCE_SCENCE_ZORA_HALL_ROOMS",
    "ENTRANCE_SCENCE_GORON_VILLAGE_WINTER",
    "ENTRANCE_SCENCE_GORON_GRAVERYARD",
    "ENTRANCE_SCENCE_SAKONS_HIDEOUT",
    "ENTRANCE_SCENCE_MOUNTAIN_VILLAGE_WINTER",
    "ENTRANCE_SCENCE_GHOST_HUT",
    "ENTRANCE_SCENCE_DEKU_SHRINE",
    "ENTRANCE_SCENCE_ROAD_TO_IKANA",
    "ENTRANCE_SCENCE_SWORDMANS_SCHOOL",
    "ENTRANCE_SCENCE_MUSIC_BOX_HOUSE",
    "ENTRANCE_SCENCE_IGOS_DU_IKANAS_LAIR",
    "ENTRANCE_SCENCE_TOURIST_INFORMATION",
    "ENTRANCE_SCENCE_STONE_TOWER",
    "ENTRANCE_SCENCE_STONE_TOWER_INVERTED",
    "ENTRANCE_SCENCE_MOUNTAIN_VILLAGE_SPRING",
    "ENTRANCE_SCENCE_PATH_TO_SNOWHEAD",
    "ENTRANCE_SCENCE_SNOWHEAD",
    "ENTRANCE_SCENCE_PATH_TO_GORON_VILLAGE_WINTER",
    "ENTRANCE_SCENCE_PATH_TO_GORON_VILLAGE_SPRING",
    "ENTRANCE_SCENCE_GYORGS_LAIR",
    "ENTRANCE_SCENCE_SECRET_SHRINE",
    "ENTRANCE_SCENCE_STOCK_POT_INN",
    "ENTRANCE_SCENCE_GREAT_BAY_CUTSCENE",
    "ENTRANCE_SCENCE_CLOCK_TOWER_INTERIOR",
    "ENTRANCE_SCENCE_WOODS_OF_MYSTERY",
    "ENTRANCE_SCENCE_LOST_WOODS",
    "ENTRANCE_SCENCE_MOON_LINK_TRIAL",
    "ENTRANCE_SCENCE_THE_MOON",
    "ENTRANCE_SCENCE_BOMB_SHOP",
    "ENTRANCE_SCENCE_GIANTS_CHAMBER",
    "ENTRANCE_SCENCE_GORMAN_TRACK",
    "ENTRANCE_SCENCE_GORON_RACETRACK",
    "ENTRANCE_SCENCE_EAST_CLOCK_TOWN",
    "ENTRANCE_SCENCE_WEST_CLOCK_TOWN",
    "ENTRANCE_SCENCE_NORTH_CLOCK_TOWN",
    "ENTRANCE_SCENCE_SOUTH_CLOCK_TOWN",
    "ENTRANCE_SCENCE_LAUNDRY_POOL",
    "ENTRANCE_SCENCE_MAX"
]

def macro(num):
    entranceScene = num >> 9
    entrance = (num >> 4) & 0x1F
    entranceEntry = num & 0xF
    return f'NEXT_ENTRANCE({entranceScenes[entranceScene]}, {entrance}, {entranceEntry})'

if __name__ == "__main__":
    import sys

    if len(sys.argv) < 2:
        print(f'{sys.argv[0]} nextEntrance', file=sys.stderr)
        exit(1)
        
    nextEntrance = sys.argv[1]
    nextEntrance = int(nextEntrance, 16 if nextEntrance.startswith("0x") else 10)
    print(macro(nextEntrance))